<div class="container">
  <div class="row">
    <div class="col-sm">
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Admin</th>
            <th>Constraints</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let entity of entities; index as index">

            <td style="width:50%">
              <editable (update)="updateField(index, 'name')">
                <ng-template viewMode>{{ entity.name }}</ng-template>
                <ng-template editMode>
                  <input
                    [formControl]="getControl(index, 'name')"
                    focusable
                    editableOnEnter
                  />
                </ng-template>
              </editable>
            </td>

            <td style="width:50%">
              <button>
                <editable (update)="updateField(index, 'isAdmin')">
                  <ng-template viewMode>{{ entity.isAdmin }}</ng-template>
                  <ng-template editMode>
                    <input
                      type="checkbox"
                      [formControl]="getControl(index, 'isAdmin')"
                    />{{ entity.isAdmin }}
                  </ng-template>
                </editable>
              </button>
            </td>

            <td style="width:50%">
              <span *ngIf="keysTypes">
                <editable multiple (update)="updateField(index, 'constraint')">
                  <span>
                      <ng-template *ngFor="let key of keysTypes; let i = index" value="option" viewMode>{{ entity.constraint }}</ng-template>
                        <ng-template editMode >
                        <input
                          [formControl]="getControl(index, 'constraint')"
                          focusable
                          editableOnEnter
                        />
                      </ng-template>
                  </span>
                </editable>
              </span>
            </td>

          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <br />
  --- Original Entities ---
  <br />
  <code>
    {{ entities | json }}
  </code>

  <br />
  <br />

  --- ArrayForm Value ---

  <br />
  <code>{{ controls.value | json }}</code>
</div>
